{% extends 'products/base.html' %}
{% block content %}
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
  rel="stylesheet"
/>

<style>
  body {
    background: #f8f9fa;
  }

  .product-card {
    border: none;
    border-radius: 15px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    overflow: hidden;
    transition: all 0.3s ease;
    background: white;
  }

  .product-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.12);
  }

  .product-image {
    height: 200px;
    object-fit: cover;
    width: 100%;
  }

  .product-title {
    font-weight: 600;
    font-size: 1.1rem;
    color: #212529;
    text-decoration: none;
  }

  .product-title:hover {
    color: #0d6efd;
  }

  .price {
    font-size: 1.1rem;
    font-weight: 700;
    color: #198754;
  }

  .stock {
    font-size: 0.9rem;
    color: #6c757d;
  }
</style>

<div class="container py-5">
  <h1 class="text-center mb-4 fw-bold text-primary">üõçÔ∏è Todos los Productos</h1>

  <div class="row g-4">
    {% for product in products %}
    <div class="col-sm-6 col-md-4 col-lg-3">
      <div class="product-card h-100">
        {% if product.image %}
        <img
          src="{{ product.image.url }}"
          alt="{{ product.name }}"
          class="product-image"
        />
        {% else %}
        <img
          src="https://via.placeholder.com/400x300?text=Sin+imagen"
          class="product-image"
        />
        {% endif %}

        <div class="p-3">
          <a href="{% url 'products:detail' product.pk %}" class="product-title">
            {{ product.name }}
          </a>
          <p class="price mt-2">$ {{ product.price }}</p>
          <p class="stock">Stock disponible: {{ product.stock }}</p>
          <a
            href="{% url 'products:detail' product.pk %}"
            class="btn btn-outline-primary btn-sm mt-2 w-100"
          >
            Ver detalles
          </a>
        </div>
      </div>
    </div>
    {% empty %}
    <p class="text-center text-muted">No hay productos disponibles üí§</p>
    {% endfor %}
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}
